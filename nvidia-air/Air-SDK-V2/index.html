<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=nv-pub-date content="2024-12-16T17:55:04.000Z"><meta name=products content="NVIDIA Air"><title>Air SDK V2 | NVIDIA Air</title><link href="https://fonts.googleapis.com/css?family=Oxygen|Oxygen+Mono:300,400,700" rel=stylesheet><link rel=stylesheet href=/book.min.3b3972df3003558c884fe051dd3b739d04d452831a8cd2a4e9728cd51439db61.css><link rel=icon href=/icons/favicon.png type=image/x-icon><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"><script src=/js/codecopy.js></script><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script type=application/javascript src=/js/air.js></script><script src=/js/netguru.js id=chainlit-script></script><script>window.mountChainlitWidget({chainlitServer:"https://copilot-netguru.nvidia.com/chainlit",button:{position:{bottom:1,right:1,size:3},popup:{normalWidth:300,expandedWidth:800,height:800}}})</script><link rel=canonical href=https://docs.nvidia.com//nvidia-air/Air-SDK-V2/><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/tablesaw/3.1.2/tablesaw.min.css integrity="sha512-FW7xwIsGt3iCswNR3o4kcXqkKDvN8Q7obwdxFODRT+L6XkRtScLElfvobA7bjiC2iTgG/sRaBUqdrhqx0RTauw==" crossorigin=anonymous><script async src="https://www.googletagmanager.com/gtag/js?id=G-HTM5Y02305"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-HTM5Y02305')</script></head><body class=docs><div id=site-nav class=globalNav><div class=container-lg><nav class=navTopWrapper><ul class=navTop><li><a href=https://docs.nvidia.com/ target=_blank><img width=228 height=26 src=/images/nvidia-docshub-logo-2.svg></a></li><div id=product-nav-black class=flex><div class=search-container><script async src="https://cse.google.com/cse.js?cx=002929300794741444210:sy0sz3qlwdc"></script><li><div dir=ltr><form action=/search/ accept-charset=utf-8><div id=doc-search-box-black><input type=text name=q class=doc-search-input-black placeholder=Search>
<span><button type=submit>
<img height=20 width=20 src=/icons/search_20x20.svg alt></button></span></div></form></div></div></li></ul></nav><nav><ul class=navRoot><li class="navSection logo"><div class=rootLink><a href=/><span>Networking Docs</span></a></div></li><li class="navSection primary"><a class=rootLink href=/cumulus-linux-514>NVIDIA Cumulus Linux</a>
<a class=rootLink href=/cumulus-netq-415>NVIDIA NetQ</a>
<a class=rootLink href=/nvidia-air>NVIDIA Air</a>
<a class=rootLink href=/cumulus-vx>NVIDIA Cumulus VX</a>
<a class=rootLink href=/knowledge-base>Knowledge Base</a>
<a class=rootLink href=/guides>Technical Guides</a></li><li class="navSection mobile"><div class=burger-menu><span></span><span></span><span></span></div></li></ul></nav></div><div class=mobileMenu><ul><li><a href=/cumulus-linux-514>NVIDIA Cumulus Linux</a></li><li><a href=/cumulus-netq-415>NVIDIA NetQ</a></li><li><a href=/nvidia-air>NVIDIA Air</a></li><li><a href=/cumulus-vx>NVIDIA Cumulus VX</a></li><li><a href=/knowledge-base>Knowledge Base</a></li><li><a href=/guides>Technical Guides</a></li></div></div><div class=docs-wrapper><div id=product-nav class=flex><div class=search-container><div class=screen-layout><a class=default href=#><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><defs><style>.a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}</style></defs><title>layout-3</title><rect class="a" x=".5" y=".497" width="22" height="22" rx="1" ry="1"/><line class="a" x1="7.5" y1="6.497" x2="7.5" y2="22.497"/><line class="a" x1="15.5" y1="6.513" x2="15.5" y2="22.497"/><line class="a" x1=".5" y1="6.497" x2="22.5" y2="6.497"/></svg></a><a class=sb-right href=#><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><defs><style>.a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}</style></defs><title>layout-6</title><rect class="a" x=".5" y=".497" width="22" height="22" rx="1" ry="1"/><line class="a" x1=".5" y1="6.497" x2="22.5" y2="6.497"/><line class="a" x1="15.5" y1="6.497" x2="15.5" y2="22.497"/></svg></a><a class=sb-left href=#><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><defs><style>.a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}</style></defs><title>layout-1</title><rect class="a" x=".5" y=".497" width="22" height="22" rx="1" ry="1"/><line class="a" x1=".5" y1="6.497" x2="22.5" y2="6.497"/><line class="a" x1="7.5" y1="6.539" x2="7.5" y2="22.497"/></svg></a><a class=no-sb href=#><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><defs><style>.a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}</style></defs><title>layout-top</title><rect class="a" x=".5" y=".497" width="22" height="22" rx="1" ry="1"/><line class="a" x1=".5" y1="6.497" x2="22.5" y2="6.497"/></svg></a></div><div class=Page-breadcrumbs></div><a href=https://docs.nvidia.com/>NVIDIA Docs Hub</a><span class=material-symbols-outlined>chevron_right</span><p>NVIDIA Air</p></div></div></div><div id=mobile-product-nav><div class=m-top-nav><div class="flex justify-between align-center"><div class=product-dropdown></div></div></div><div class="m-bottom-nav flex justify-between search-container"><div class=screen-layout><a class=no-sb href=#><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><defs><style>.a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}</style></defs><title>layout-top</title><rect class="a" x=".5" y=".497" width="22" height="22" rx="1" ry="1"/><line class="a" x1=".5" y1="6.497" x2="22.5" y2="6.497"/></svg></a><a class=sb-right href=#><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><defs><style>.a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}</style></defs><title>layout-6</title><rect class="a" x=".5" y=".497" width="22" height="22" rx="1" ry="1"/><line class="a" x1=".5" y1="6.497" x2="22.5" y2="6.497"/><line class="a" x1="15.5" y1="6.497" x2="15.5" y2="22.497"/></svg></a><a class=sb-left href=#><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><defs><style>.a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}</style></defs><title>layout-1</title><rect class="a" x=".5" y=".497" width="22" height="22" rx="1" ry="1"/><line class="a" x1=".5" y1="6.497" x2="22.5" y2="6.497"/><line class="a" x1="7.5" y1="6.539" x2="7.5" y2="22.497"/></svg></a></div><div id=m-doc-search-box><input type=search name=search class=m-doc-search-input placeholder=Search>
<a href=#><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><defs><style>.a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round}</style></defs><title>search-1</title><circle class="a" cx="10.5" cy="10.5" r="10"/><line class="a" x1="23.5" y1="23.5" x2="17.571" y2="17.571"/></svg></a></div></div></div><main class="container flex"><aside class=book-menu><nav role=navigation><h2 class=book-brand><a href=/>NVIDIA Networking Documentation</a></h2><ul id=top class=cn-book-section-container><li class=cn-book-section><a href=/nvidia-air/>NVIDIA Air User Guide</a><ul class=cn-book-section-container id=subsection><li><a href=/nvidia-air/Account-Setup/>Account Setup</a></li><li><a href=/nvidia-air/Quick-Start/>Quick Start</a></li><li><a href=/nvidia-air/Whats-New/>What's New</a></li><li><a href=/nvidia-air/Authentication/>API Authentication</a></li><li><a href=/nvidia-air/Pre-Built-Demos/>Pre-built Demos</a></li><li><a href=/nvidia-air/Custom-Topology/>Custom Topology</a></li><li><a href=/nvidia-air/Organizations/>Organizations</a></li><li><a href=/nvidia-air/Air-Python-SDK/>Air API & Python SDK</a></li><li><a href=/nvidia-air/Air-SDK-V2/ class=active>Air SDK V2</a></li></ul></li></ul></nav><script src=/js/menuBundleNoScroll.js></script></aside><div class=book-page><article class=markdown><h1>Air SDK V2</h1><p>The NVIDIA Air SDK V2 provides a Python SDK for interacting with most <a href=https://air.nvidia.com/api/#/v2>NVIDIA Air API V2 endpoints</a>.</p><h2 id=api-v1-and-api-v2-overview>API V1 and API V2 Overview</h2><p>The Air API V2 endpoints offer robust methods for creating and managing simulations. You can initiate simulations through JSON file uploads or by sequentially using RESTful CRUD operations: first by creating a simulation, followed by adding nodes, defining interfaces for each node, and finally linking these interfaces. This structured approach allows for flexible and precise simulation design.</p><p>In the Air API V1 endpoints, simulations are structured through a combination of “topology” and “simulation” instances. A simulation comprises a “topology” instance along with a “simulation” instance that references this topology.</p><p>Individual nodes within the simulation are represented by “node” instances (which reference the topology) and “simulation_node” instances (which reference the simulation). The interfaces for each node are represented by “interface” instances (linked to “node” instances) and “simulation_interface” instances (linked to “simulation_node” instances).</p><p>With the Air API V2, these representations are streamlined for the client. A simulation directly contains “nodes,” which in turn contain “interfaces” that connect to one another. The separate concept of a “topology” is <em>almost</em> completely removed, providing a more straightforward structure.</p><details><summary>Legacy references to topology</summary>
Although most API V2 endpoints make no reference to a topology, there are a few exceptions that are included in the API V2 that were created before the implementation and enforcement of the new convention.<ul><li>Topology file: <a href=https://air.nvidia.com/api/#/v2/v2_topology_file_list>https://air.nvidia.com/api/#/v2/v2_topology_file_list</a></li><li>Topology patch: <a href=https://air.nvidia.com/api/#/v2/v2_topology_partial_update>https://air.nvidia.com/api/#/v2/v2_topology_partial_update</a></li><li>Topology put: <a href=https://air.nvidia.com/api/#/v2/v2_topology_partial_update>https://air.nvidia.com/api/#/v2/v2_topology_partial_update</a></li></ul></details><h3 id=core-endpoints>Core Endpoints</h3><ul><li><a href=https://air.nvidia.com/api/#/v2/v2_simulations_list>Simulations</a></li><li><a href=https://air.nvidia.com/api/#/v2/v2_simulations_nodes_list>Nodes</a></li><li><a href=https://air.nvidia.com/api/#/v2/v2_simulations_nodes_interfaces_list>Interfaces</a></li><li><a href=https://air.nvidia.com/api/#/v2/v2_simulations_nodes_interfaces_links_list>Links</a></li></ul><h2 id=key-differences-between-v1-and-v2>Key Differences Between V1 and V2</h2><h3 id=separate-import-path>Separate Import Path</h3><p>The V2 implementation of the SDK has a separate import from the <a href=https://pypi.org/project/air-sdk/>air_sdk</a> package:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> air_sdk <span style=color:#f92672>import</span> AirApi <span style=color:#66d9ef>as</span> AirApiV1  <span style=color:#75715e># Imports the original SDK</span>
<span style=color:#f92672>from</span> air_sdk.v2 <span style=color:#f92672>import</span> AirApi  <span style=color:#75715e># Imports the V2 SDK</span>

api <span style=color:#f92672>=</span> AirApi(username<span style=color:#f92672>=...</span>, password<span style=color:#f92672>=...</span>)
</code></pre></div><h3 id=iterators-versus-lists>Iterators Versus Lists</h3><p>Because most API V2 endpoints that list data are <a href=https://www.django-rest-framework.org/api-guide/pagination/#limitoffsetpagination>paginated</a>, V2 SDK methods often return iterators (for example, api.simulations.list()) which improve performance but require iteration. Convert iterators to lists when indexing is required:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> air_sdk.v2 <span style=color:#f92672>import</span> AirApi

api <span style=color:#f92672>=</span> AirApi(username<span style=color:#f92672>=...</span>, password<span style=color:#f92672>=...</span>)

simulation_list <span style=color:#f92672>=</span> list(api<span style=color:#f92672>.</span>simulations<span style=color:#f92672>.</span>list())  <span style=color:#75715e># Returns a list of simulation objects</span>

simulation_iterator <span style=color:#f92672>=</span> api<span style=color:#f92672>.</span>simulations<span style=color:#f92672>.</span>list()  <span style=color:#75715e># Returns an Iterator</span>

<span style=color:#66d9ef>for</span> simulation <span style=color:#f92672>in</span> simulation_iterator:  <span style=color:#75715e># The SDK will walk through the pagination to obtain all objects, potentially across multiple requests</span>
    do_something(simulation)
</code></pre></div><p>The SDK uses a default page size of 200. You can adjust the page size to make fewer or more requests by calling <code>list</code> on the iterator:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> air_sdk.v2 <span style=color:#f92672>import</span> AirApi

api <span style=color:#f92672>=</span> AirApi(username<span style=color:#f92672>=...</span>, password<span style=color:#f92672>=...</span>)
api<span style=color:#f92672>.</span>set_page_size(<span style=color:#ae81ff>10000000</span>)  <span style=color:#75715e># Set the page size to be arbitarily large to obtain all objects in one request</span>
sims <span style=color:#f92672>=</span> list(api<span style=color:#f92672>.</span>simulations<span style=color:#f92672>.</span>list())  <span style=color:#75715e># will most likely only make 1 call to the Air API</span>
</code></pre></div><h3 id=type-hints-and-checks>Type Hints and Checks</h3><p>Most of the SDK V2 comes with type hints that provides assistance and validation when creating or updating objects:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#f92672>from</span> typing <span style=color:#f92672>import</span> get_type_hints
<span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>for</span> key, value <span style=color:#f92672>in</span> get_type_hints(air<span style=color:#f92672>.</span>simulations<span style=color:#f92672>.</span>create)<span style=color:#f92672>.</span>items():
<span style=color:#f92672>...</span>    <span style=color:#66d9ef>print</span>(key, <span style=color:#e6db74>&#39;:&#39;</span>, value)
<span style=color:#f92672>...</span>
title : <span style=color:#f92672>&lt;</span><span style=color:#66d9ef>class</span> <span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#a6e22e>str</span><span style=color:#e6db74>&#39;&gt;</span>
documentation : typing<span style=color:#f92672>.</span>Union[str, NoneType]
expires : typing<span style=color:#f92672>.</span>Union[bool, NoneType]
expires_at : typing<span style=color:#f92672>.</span>Union[datetime<span style=color:#f92672>.</span>datetime, NoneType]
metadata : typing<span style=color:#f92672>.</span>Union[str, NoneType]
organization : typing<span style=color:#f92672>.</span>Union[air_sdk<span style=color:#f92672>.</span>v2<span style=color:#f92672>.</span>endpoints<span style=color:#f92672>.</span>organizations<span style=color:#f92672>.</span>Organization, str, uuid<span style=color:#f92672>.</span>UUID, NoneType]
owner : typing<span style=color:#f92672>.</span>Union[str, NoneType]
preferred_worker : typing<span style=color:#f92672>.</span>Union[air_sdk<span style=color:#f92672>.</span>v2<span style=color:#f92672>.</span>endpoints<span style=color:#f92672>.</span>workers<span style=color:#f92672>.</span>Worker, str, uuid<span style=color:#f92672>.</span>UUID, NoneType]
sleep : typing<span style=color:#f92672>.</span>Union[bool, NoneType]
sleep_at : typing<span style=color:#f92672>.</span>Union[datetime<span style=color:#f92672>.</span>datetime, NoneType]
<span style=color:#66d9ef>return</span> : <span style=color:#f92672>&lt;</span><span style=color:#66d9ef>class</span> <span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#a6e22e>air_sdk</span><span style=color:#f92672>.</span>v2<span style=color:#f92672>.</span>endpoints<span style=color:#f92672>.</span>simulations<span style=color:#f92672>.</span>Simulation<span style=color:#e6db74>&#39;&gt;</span>
</code></pre></div><h3 id=set-custom-connection-timeouts>Set Custom Connection Timeouts</h3><p>Clients can set a custom connection timeout for the SDK V2:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> datetime <span style=color:#f92672>import</span> timedelta
<span style=color:#f92672>from</span> air_sdk.v2 <span style=color:#f92672>import</span> AirApi

api <span style=color:#f92672>=</span> AirApi(<span style=color:#f92672>...</span>)

api<span style=color:#f92672>.</span>set_connect_timeout(timedelta(minutes<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>))
</code></pre></div><p>A custom read timeout may be set separately:</p><pre><code>api.set_read_timeout(timedelta(minutes=2))
</code></pre><h3 id=additional-authentication-support>Additional Authentication Support</h3><p>The initialization process for the original and the V2 SDK is nearly identical:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> air_sdk <span style=color:#f92672>import</span> AirApi <span style=color:#66d9ef>as</span> AirApiV1
<span style=color:#f92672>from</span> air_sdk.v2 <span style=color:#f92672>import</span> AirApi <span style=color:#66d9ef>as</span> AirApiV2

air_v1 <span style=color:#f92672>=</span> AirApiV1(
    api_url<span style=color:#f92672>=...</span>,
    username<span style=color:#f92672>=...</span>,
    password<span style=color:#f92672>=...</span>,
)
air_v2 <span style=color:#f92672>=</span> AirApiV2(
    api_url<span style=color:#f92672>=...</span>,
    username<span style=color:#f92672>=...</span>,
    password<span style=color:#f92672>=...</span>,
)
</code></pre></div><p>There is an additional option to skip authentication during the initialization of the SDK V2 and provide authentication credentials at a later time:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> air_sdk.v2 <span style=color:#f92672>import</span> AirApi
api <span style=color:#f92672>=</span> AirApi(api_url<span style=color:#f92672>=...</span>, authenticate<span style=color:#f92672>=</span>False)
api<span style=color:#f92672>.</span>client<span style=color:#f92672>.</span>authenticate(username<span style=color:#f92672>=...</span>, password<span style=color:#f92672>=...</span>)
</code></pre></div><p>You can also use this method to switch which client is authenticated.</p><h2 id=interact-with-dataclass-objects>Interact with Dataclass Objects</h2><p>SDK V2 introduces dataclasses for representing various objects like simulations, nodes, images, and organizations in Python.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>&gt;&gt;&gt;</span> sim
Simulation(id<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;95bbbf37-a6d4-42b2-ab62-0234cc86370d&#39;</span>, title<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;2k links&#39;</span>, state<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;NEW&#39;</span>, documentation<span style=color:#f92672>=</span>None, write_ok<span style=color:#f92672>=</span>True, metadata<span style=color:#f92672>=</span>None)
<span style=color:#f92672>&gt;&gt;&gt;</span> sim<span style=color:#f92672>.</span>id
<span style=color:#e6db74>&#39;95bbbf37-a6d4-42b2-ab62-0234cc86370d&#39;</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> sim<span style=color:#f92672>.</span>title
<span style=color:#e6db74>&#39;2k links&#39;</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> sim<span style=color:#f92672>.</span>created
datetime<span style=color:#f92672>.</span>datetime(<span style=color:#ae81ff>2024</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>18</span>, <span style=color:#ae81ff>16</span>, <span style=color:#ae81ff>11</span>, <span style=color:#ae81ff>12</span>, <span style=color:#ae81ff>659424</span>, tzinfo<span style=color:#f92672>=</span>datetime<span style=color:#f92672>.</span>timezone<span style=color:#f92672>.</span>utc)
</code></pre></div><p>You can easily convert these objects to native Python dictionaries using the <code>.dict()</code> method:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>&gt;&gt;&gt;</span> sim<span style=color:#f92672>.</span>dict()
{<span style=color:#e6db74>&#39;id&#39;</span>: <span style=color:#e6db74>&#39;95bbbf37-a6d4-42b2-ab62-0234cc86370d&#39;</span>, <span style=color:#e6db74>&#39;title&#39;</span>: <span style=color:#e6db74>&#39;2k links&#39;</span>, <span style=color:#e6db74>&#39;state&#39;</span>: <span style=color:#e6db74>&#39;NEW&#39;</span>, <span style=color:#e6db74>&#39;sleep&#39;</span>: True, <span style=color:#e6db74>&#39;owner&#39;</span>: <span style=color:#e6db74>&#39;tiparker@nvidia.com&#39;</span>, <span style=color:#e6db74>&#39;cloned&#39;</span>: False, <span style=color:#e6db74>&#39;expires&#39;</span>: False, <span style=color:#e6db74>&#39;created&#39;</span>: datetime<span style=color:#f92672>.</span>datetime(<span style=color:#ae81ff>2024</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>18</span>, <span style=color:#ae81ff>16</span>, <span style=color:#ae81ff>11</span>, <span style=color:#ae81ff>12</span>, <span style=color:#ae81ff>659424</span>, tzinfo<span style=color:#f92672>=</span>datetime<span style=color:#f92672>.</span>timezone<span style=color:#f92672>.</span>utc), <span style=color:#e6db74>&#39;modified&#39;</span>: datetime<span style=color:#f92672>.</span>datetime(<span style=color:#ae81ff>2024</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>17</span>, <span style=color:#ae81ff>50</span>, <span style=color:#ae81ff>28</span>, <span style=color:#ae81ff>905146</span>, tzinfo<span style=color:#f92672>=</span>datetime<span style=color:#f92672>.</span>timezone<span style=color:#f92672>.</span>utc), <span style=color:#e6db74>&#39;sleep_at&#39;</span>: datetime<span style=color:#f92672>.</span>datetime(<span style=color:#ae81ff>2024</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>19</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>11</span>, <span style=color:#ae81ff>12</span>, <span style=color:#ae81ff>649304</span>, tzinfo<span style=color:#f92672>=</span>datetime<span style=color:#f92672>.</span>timezone<span style=color:#f92672>.</span>utc), <span style=color:#e6db74>&#39;expires_at&#39;</span>: datetime<span style=color:#f92672>.</span>datetime(<span style=color:#ae81ff>2024</span>, <span style=color:#ae81ff>11</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>16</span>, <span style=color:#ae81ff>11</span>, <span style=color:#ae81ff>12</span>, <span style=color:#ae81ff>649000</span>, tzinfo<span style=color:#f92672>=</span>datetime<span style=color:#f92672>.</span>timezone<span style=color:#f92672>.</span>utc), <span style=color:#e6db74>&#39;organization&#39;</span>: <span style=color:#e6db74>&#39;3b7c20c9-e525-46ac-96e3-a9a332aef774&#39;</span>, <span style=color:#e6db74>&#39;preferred_worker&#39;</span>: None, <span style=color:#e6db74>&#39;documentation&#39;</span>: None, <span style=color:#e6db74>&#39;write_ok&#39;</span>: True, <span style=color:#e6db74>&#39;metadata&#39;</span>: None}
</code></pre></div><p>To convert to a JSON string, use the <code>.json()</code> method:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>&gt;&gt;&gt;</span> sim<span style=color:#f92672>.</span>json()
<span style=color:#e6db74>&#39;{&#34;id&#34;:&#34;95bbbf37-a6d4-42b2-ab62-0234cc86370d&#34;,&#34;title&#34;:&#34;2k links&#34;,&#34;state&#34;:&#34;NEW&#34;,&#34;sleep&#34;:true,&#34;owner&#34;:&#34;tiparker@nvidia.com&#34;,&#34;cloned&#34;:false,&#34;expires&#34;:false,&#34;created&#34;:&#34;2024-10-18T16:11:12.659424Z&#34;,&#34;modified&#34;:&#34;2024-10-31T17:50:28.905146Z&#34;,&#34;sleep_at&#34;:&#34;2024-10-19T04:11:12.649304Z&#34;,&#34;expires_at&#34;:&#34;2024-11-01T16:11:12.649000Z&#34;,&#34;organization&#34;:&#34;3b7c20c9-e525-46ac-96e3-a9a332aef774&#34;,&#34;preferred_worker&#34;:null,&#34;documentation&#34;:null,&#34;write_ok&#34;:true,&#34;metadata&#34;:null}&#39;</span>
</code></pre></div><p>To synchronize an object’s data with the latest API state, use the <code>.refresh()</code> method:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>&gt;&gt;&gt;</span> sim<span style=color:#f92672>.</span>title
<span style=color:#e6db74>&#39;2k links&#39;</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> sim<span style=color:#f92672>.</span>title <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;New Name&#39;</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> sim<span style=color:#f92672>.</span>title
<span style=color:#e6db74>&#39;New Name&#39;</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> sim<span style=color:#f92672>.</span>refresh() <span style=color:#75715e># Refreshes the data from the API</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> sim<span style=color:#f92672>.</span>title
<span style=color:#e6db74>&#39;2k links&#39;</span>
</code></pre></div><h3 id=directly-access-related-objects>Directly Access Related Objects</h3><p>As seen when calling <code>.json()</code> or <code>.dict()</code> above, <code>Simulation</code> instances might reference an associated <code>organization</code>.</p><p>It is often possible to directly access related objects. For example:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>&gt;&gt;&gt;</span> sim<span style=color:#f92672>.</span>organization
Organization(id<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;3b7c20c9-e525-46ac-96e3-a9a332aef774&#39;</span>, name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Tim test org&#39;</span>, member_count<span style=color:#f92672>=</span><span style=color:#ae81ff>8</span>)
</code></pre></div><p>These related objects are created lazily, meaning the <code>Organization</code> object is fetched on-demand when accessed for the first time. This allows seamless traversal of relationships between connected objects:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>&gt;&gt;&gt;</span> sim
Simulation(id<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;95bbbf37-a6d4-42b2-ab62-0234cc86370d&#39;</span>, title<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;2k links&#39;</span>, state<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;NEW&#39;</span>, documentation<span style=color:#f92672>=</span>None, write_ok<span style=color:#f92672>=</span>True, metadata<span style=color:#f92672>=</span>None)
<span style=color:#f92672>&gt;&gt;&gt;</span> sim<span style=color:#f92672>.</span>organization
Organization(id<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;3b7c20c9-e525-46ac-96e3-a9a332aef774&#39;</span>, name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Tim test org&#39;</span>, member_count<span style=color:#f92672>=</span><span style=color:#ae81ff>8</span>)
<span style=color:#f92672>&gt;&gt;&gt;</span> sim<span style=color:#f92672>.</span>organization<span style=color:#f92672>.</span>dict()
{
    <span style=color:#e6db74>&#39;id&#39;</span>: <span style=color:#e6db74>&#39;3b7c20c9-e525-46ac-96e3-a9a332aef774&#39;</span>,
    <span style=color:#e6db74>&#39;name&#39;</span>: <span style=color:#e6db74>&#39;Tim test org&#39;</span>,
    <span style=color:#e6db74>&#39;member_count&#39;</span>: <span style=color:#ae81ff>8</span>,
    <span style=color:#e6db74>&#39;resource_budget&#39;</span>: <span style=color:#e6db74>&#39;b0c2a464-f6c5-4a9c-a65c-d8645d6fa01f&#39;</span>
}
<span style=color:#f92672>&gt;&gt;&gt;</span> sim<span style=color:#f92672>.</span>organization<span style=color:#f92672>.</span>resource_budget
ResourceBudget(id<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;b0c2a464-f6c5-4a9c-a65c-d8645d6fa01f&#39;</span>)
<span style=color:#f92672>&gt;&gt;&gt;</span> sim<span style=color:#f92672>.</span>organization<span style=color:#f92672>.</span>resource_budget<span style=color:#f92672>.</span>dict()
{
    <span style=color:#e6db74>&#39;id&#39;</span>: <span style=color:#e6db74>&#39;b0c2a464-f6c5-4a9c-a65c-d8645d6fa01f&#39;</span>,
    <span style=color:#e6db74>&#39;cpu&#39;</span>: <span style=color:#ae81ff>300</span>,
    <span style=color:#e6db74>&#39;cpu_used&#39;</span>: <span style=color:#ae81ff>0</span>,
    <span style=color:#e6db74>&#39;image_uploads&#39;</span>: <span style=color:#ae81ff>10000000000</span>,
    <span style=color:#e6db74>&#39;image_uploads_used&#39;</span>: <span style=color:#ae81ff>111804416</span>,
    <span style=color:#e6db74>&#39;memory&#39;</span>: <span style=color:#ae81ff>300000</span>,
    <span style=color:#e6db74>&#39;memory_used&#39;</span>: <span style=color:#ae81ff>0</span>,
    <span style=color:#e6db74>&#39;simulations&#39;</span>: <span style=color:#ae81ff>15</span>,
    <span style=color:#e6db74>&#39;simulations_used&#39;</span>: <span style=color:#ae81ff>0</span>,
    <span style=color:#e6db74>&#39;storage&#39;</span>: <span style=color:#ae81ff>3000</span>,
    <span style=color:#e6db74>&#39;storage_used&#39;</span>: <span style=color:#ae81ff>0</span>,
    <span style=color:#e6db74>&#39;userconfigs&#39;</span>: <span style=color:#ae81ff>10</span>,
    <span style=color:#e6db74>&#39;userconfigs_used&#39;</span>: <span style=color:#ae81ff>0</span>
}
</code></pre></div><p>When comparing objects accessed by different processes, you should compare the object&rsquo;s <code>id</code> (or other primary key):</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>&gt;&gt;&gt;</span> id(sim) <span style=color:#f92672>==</span> id(node<span style=color:#f92672>.</span>simulation)  <span style=color:#75715e># Different objects in Python</span>
False
<span style=color:#f92672>&gt;&gt;&gt;</span> sim <span style=color:#f92672>==</span> node<span style=color:#f92672>.</span>simulation
False
<span style=color:#f92672>&gt;&gt;&gt;</span> sim<span style=color:#f92672>.</span>id <span style=color:#f92672>==</span> node<span style=color:#f92672>.</span>simulation<span style=color:#f92672>.</span>id
True
</code></pre></div><h2 id=query-for-related-objects>Query for Related Objects</h2><p>In Air, simulations are structured with multiple nodes, and each node can contain several interfaces. In the SDK V2, these &lsquo;many-to-one&rsquo; relationships—where a simulation contains many nodes, and a node contains multiple interfaces—must be explicitly queried to access all related entities. For example:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> air_sdk.v2 <span style=color:#f92672>import</span> AirApi

air <span style=color:#f92672>=</span> AirApi(username<span style=color:#f92672>=...</span>, password<span style=color:#f92672>=...</span>)

<span style=color:#e6db74>``</span><span style=color:#960050;background-color:#1e0010>`</span>python
<span style=color:#f92672>&gt;&gt;&gt;</span> sim <span style=color:#f92672>=</span> air<span style=color:#f92672>.</span>simulations<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;1ebf9958-a01e-4396-88f6-946e93299cf2&#39;</span>)
<span style=color:#f92672>&gt;&gt;&gt;</span> hasattr(sim, <span style=color:#e6db74>&#39;nodes&#39;</span>)
False
</code></pre></div><p>Iterate through a list of nodes for a sim:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>for</span> node <span style=color:#f92672>in</span> air<span style=color:#f92672>.</span>nodes<span style=color:#f92672>.</span>list(simulation<span style=color:#f92672>=</span>sim):
<span style=color:#f92672>...</span>    <span style=color:#66d9ef>print</span>(node<span style=color:#f92672>.</span>name)
<span style=color:#f92672>...</span> 
oob<span style=color:#f92672>-</span>mgmt<span style=color:#f92672>-</span>switch
node7
node2
node3
node4
node1
node6
node10
oob<span style=color:#f92672>-</span>mgmt<span style=color:#f92672>-</span>server
node8
node5
node9
</code></pre></div><p>Alternatively, obtain a list of nodes by calling <code>list</code>:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>&gt;&gt;&gt;</span> nodes <span style=color:#f92672>=</span> list(air<span style=color:#f92672>.</span>nodes<span style=color:#f92672>.</span>list(simulation<span style=color:#f92672>=</span>sim))
<span style=color:#f92672>&gt;&gt;&gt;</span> len(nodes)
<span style=color:#ae81ff>12</span>
</code></pre></div><p>Interfaces can be filtered by individual nodes or by simulations:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>&gt;&gt;&gt;</span> sim <span style=color:#f92672>=</span> air<span style=color:#f92672>.</span>simulations<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;&lt;simulation-id&gt;&#39;</span>)
<span style=color:#f92672>&gt;&gt;&gt;</span> node <span style=color:#f92672>=</span> next(air<span style=color:#f92672>.</span>nodes<span style=color:#f92672>.</span>list(simulation<span style=color:#f92672>=</span>sim))
<span style=color:#f92672>&gt;&gt;&gt;</span> node_interfaces <span style=color:#f92672>=</span> list(air<span style=color:#f92672>.</span>interfaces<span style=color:#f92672>.</span>list(node<span style=color:#f92672>=</span>node))
<span style=color:#f92672>&gt;&gt;&gt;</span> len(node_interfaces)
<span style=color:#ae81ff>1</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> sim_interfaces <span style=color:#f92672>=</span> list(air<span style=color:#f92672>.</span>interfaces<span style=color:#f92672>.</span>list(simulation<span style=color:#f92672>=</span>node<span style=color:#f92672>.</span>simulation))
<span style=color:#f92672>&gt;&gt;&gt;</span> len(sim_interfaces)
<span style=color:#ae81ff>29</span>
</code></pre></div><h2 id=create-a-simulation>Create a Simulation</h2><p>There are two paths for creating simulations using the SDK V2:</p><ul><li>File import</li><li>Blank simulation creation</li></ul><h3 id=file-import>File Import</h3><p>You can create entire simulations efficiently and reliably by importing a file. This process is similar to the DOT file upload process supported by the original SDK and mirrors the <a href=https://air.nvidia.com/api/#/v2/v2_simulations_import_create>simulation import</a> endpoint.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> air_sdk.v2 <span style=color:#f92672>import</span> AirApi

air <span style=color:#f92672>=</span> AirApi(username<span style=color:#f92672>=...</span>, password<span style=color:#f92672>=...</span>)

simulation <span style=color:#f92672>=</span> air<span style=color:#f92672>.</span>simulations<span style=color:#f92672>.</span>create_from(
    <span style=color:#e6db74>&#39;my-simulation&#39;</span>,  <span style=color:#75715e># The Title</span>
    <span style=color:#e6db74>&#39;JSON&#39;</span>,  <span style=color:#75715e># The format of the content. Only JSON is supported currently.</span>
    {
        <span style=color:#e6db74>&#39;nodes&#39;</span>: {
            <span style=color:#e6db74>&#39;node-1&#39;</span>: {
                <span style=color:#e6db74>&#39;os&#39;</span>: <span style=color:#e6db74>&#39;generic/ubuntu2204&#39;</span>,
            },
            <span style=color:#e6db74>&#39;node-2&#39;</span>: {
                <span style=color:#e6db74>&#39;os&#39;</span>: <span style=color:#e6db74>&#39;generic/ubuntu2204&#39;</span>,
            },
        },
        <span style=color:#e6db74>&#39;links&#39;</span>: [
            [{<span style=color:#e6db74>&#39;node&#39;</span>: <span style=color:#e6db74>&#39;node-1&#39;</span>, <span style=color:#e6db74>&#39;interface&#39;</span>: <span style=color:#e6db74>&#39;eth1&#39;</span>}, {<span style=color:#e6db74>&#39;node&#39;</span>: <span style=color:#e6db74>&#39;node-2&#39;</span>, <span style=color:#e6db74>&#39;interface&#39;</span>: <span style=color:#e6db74>&#39;eth1&#39;</span>}]
        ]
    },
)
</code></pre></div><h3 id=create-a-blank-simulation>Create a Blank Simulation</h3><p>A blank simulation (that is, a simulation with no nodes) may be created via the basic <a href=https://air.nvidia.com/api/#/v2/v2_simulations_create>create simulation</a> endpoint.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> air_sdk.v2 <span style=color:#f92672>import</span> AirApi

air <span style=color:#f92672>=</span> AirApi(username<span style=color:#f92672>=...</span>, password<span style=color:#f92672>=...</span>)

personal_sim <span style=color:#f92672>=</span> air<span style=color:#f92672>.</span>simulations<span style=color:#f92672>.</span>create(title<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Blank Simulation for myself&#34;</span>)

org <span style=color:#f92672>=</span> next(air<span style=color:#f92672>.</span>organizations<span style=color:#f92672>.</span>list(search<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;My Favorite Organization&#34;</span>))
sim_for_my_org <span style=color:#f92672>=</span> air<span style=color:#f92672>.</span>simulations<span style=color:#f92672>.</span>create(
    title<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Blank Simulation for my Favorite Org&#34;</span>,
    organization<span style=color:#f92672>=</span>org,
)
</code></pre></div><p>Most fields specified by the <a href=https://air.nvidia.com/api/#/v2/v2_simulations_create>create simulation</a> endpoint can be passed into the <code>air.simulations.create</code> method.</p><h2 id=modify-a-simulation>Modify a Simulation</h2><p>You can customize existing simulations by adjusting their fields, adding or removing nodes, and updating node interfaces. You can add or remove new interfaces from nodes and connect them as needed.</p><h3 id=adjust-the-fields-on-a-simulation-object>Adjust the Fields on a Simulation Object</h3><h4 id=select-an-existing-simulation>Select an Existing Simulation</h4><p>You can retrieve an existing simulation with its ID:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> air_sdk.v2 <span style=color:#f92672>import</span> AirApi

air <span style=color:#f92672>=</span> AirApi(username<span style=color:#f92672>=...</span>, password<span style=color:#f92672>=...</span>)

simulation <span style=color:#f92672>=</span> air<span style=color:#f92672>.</span>simulations<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;&lt;simulation-id&gt;&#39;</span>)
</code></pre></div><p>Alternatively, you can query a simulation by the <a href=https://air.nvidia.com/api/#/v2/v2_simulations_list>list simulations</a> endpoint:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>simulation <span style=color:#f92672>=</span> next(air<span style=color:#f92672>.</span>simulations<span style=color:#f92672>.</span>list(title<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;My Simulation Title&#34;</span>))  <span style=color:#75715e># using `next` gets the first result</span>
</code></pre></div><p>You can query simulations by any of the values specified in <a href=https://air.nvidia.com/api/#/v2/v2_simulations_list>list simulations</a>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>my_favorite_org <span style=color:#f92672>=</span> next(air<span style=color:#f92672>.</span>organizations<span style=color:#f92672>.</span>list(search<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;My Favorite Org&#34;</span>))  <span style=color:#75715e># using `next` returns the first result</span>
simulation <span style=color:#f92672>=</span> next(air<span style=color:#f92672>.</span>simulations<span style=color:#f92672>.</span>list(title<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;My Simulation&#39;s Title&#34;</span>, organization<span style=color:#f92672>=</span>my_favorite_org))
</code></pre></div><h4 id=update-an-existing-simulation>Update an Existing Simulation</h4><p>Update specific fields by calling <code>.update</code>:</p><pre><code>&gt;&gt;&gt; sim = air.simulations.get('1ebf9958-a01e-4396-88f6-946e93299cf2')
&gt;&gt;&gt; sim.title
'Sam Personal 10 w OOB'
&gt;&gt;&gt; sim.update(title=&quot;Sam's Personal 10 node sim with OOB&quot;)
&gt;&gt;&gt; sim.title
&quot;Sam's Personal 10 node sim with OOB&quot;
</code></pre><p>Calling <code>.update</code> on a simulation object corresponds to <a href=https://air.nvidia.com/api/#/v2/v2_simulations_partial_update>PATCH simulation V2</a>.</p><p>There is also a <code>.full_update</code> method on the simulation that updates all fields on the simulation:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>sim<span style=color:#f92672>.</span>full_update(
    title<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;New Title&#39;</span>,
    documentation<span style=color:#f92672>=</span>sim<span style=color:#f92672>.</span>documentation,
    expires<span style=color:#f92672>=</span>sim<span style=color:#f92672>.</span>expires,
    expires_at<span style=color:#f92672>=</span>sim<span style=color:#f92672>.</span>expires_at,
    metadata<span style=color:#f92672>=</span>sim<span style=color:#f92672>.</span>metadata,
    preferred_worker<span style=color:#f92672>=</span>sim<span style=color:#f92672>.</span>preferred_worker,
    sleep<span style=color:#f92672>=</span>sim<span style=color:#f92672>.</span>sleep,
    sleep_at<span style=color:#f92672>=</span>sim<span style=color:#f92672>.</span>sleep_at,
)
</code></pre></div><p><code>Node</code> and <code>Interface</code> objects have similar <code>.update</code> and <code>.full_update</code> methods for modifying their data.</p><h4 id=add-new-nodes-to-a-simulation>Add New Nodes to a Simulation</h4><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>&gt;&gt;&gt;</span> image <span style=color:#f92672>=</span> next(air<span style=color:#f92672>.</span>images<span style=color:#f92672>.</span>list(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;generic/ubuntu2204&#39;</span>))  <span style=color:#75715e># Obtain an image for the node</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> image
Image(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;generic/ubuntu2204&#39;</span>, version<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;22.04&#39;</span>, organization_name<span style=color:#f92672>=</span>None)
<span style=color:#f92672>&gt;&gt;&gt;</span> new_node <span style=color:#f92672>=</span> air<span style=color:#f92672>.</span>nodes<span style=color:#f92672>.</span>create(simulation<span style=color:#f92672>=</span>sim, name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;node13&#39;</span>, os<span style=color:#f92672>=</span>image)
<span style=color:#f92672>&gt;&gt;&gt;</span> new_node<span style=color:#f92672>.</span>os<span style=color:#f92672>.</span>id <span style=color:#f92672>==</span> image<span style=color:#f92672>.</span>id
True
<span style=color:#f92672>&gt;&gt;&gt;</span> new_node<span style=color:#f92672>.</span>simulation<span style=color:#f92672>.</span>id <span style=color:#f92672>==</span> sim<span style=color:#f92672>.</span>id
True
</code></pre></div><h2 id=export-a-simulation>Export a Simulation</h2><p>You can <a href=https://air.nvidia.com/api/#/v2/v2_simulations_export_retrieve>export</a> existing simulations into a JSON representation, which you can share and <a href=#file-import>re-import</a> into Air.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> air_sdk.v2 <span style=color:#f92672>import</span> AirApi

air <span style=color:#f92672>=</span> AirApi(username<span style=color:#f92672>=...</span>, password<span style=color:#f92672>=...</span>)

sim_export_json <span style=color:#f92672>=</span> air<span style=color:#f92672>.</span>simulations<span style=color:#f92672>.</span>export(
    simulation<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;&lt;simulation-id&gt;&#39;</span>,
    format<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;JSON&#39;</span>,
    image_ids<span style=color:#f92672>=</span>True,  <span style=color:#75715e># defaults to False</span>
)

<span style=color:#75715e># Or call `export` on a simulation object</span>
simulation <span style=color:#f92672>=</span> air<span style=color:#f92672>.</span>simulations<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;&lt;simulation-id&gt;&#39;</span>)

sim_export_json <span style=color:#f92672>=</span> simulation<span style=color:#f92672>.</span>export(format<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;JSON&#34;</span>)
</code></pre></div><blockquote></blockquote></article></div><aside class="book-toc fixed"><div class=toc><button>
<a href=https://github.com/CumulusNetworks/docs/edit/stage/content/nvidia-air/Air-SDK-V2.md target=_blank rel=noopener><img src=/svg/pencil-circle.svg alt=Edit> Edit this page</a></button><p style=padding-left:27px;font-weight:500;color:#36424a>This page discusses:</p><nav id=TableOfContents><ul><li><ul><li><a href=#api-v1-and-api-v2-overview>API V1 and API V2 Overview</a><ul><li><a href=#core-endpoints>Core Endpoints</a></li></ul></li><li><a href=#key-differences-between-v1-and-v2>Key Differences Between V1 and V2</a><ul><li><a href=#separate-import-path>Separate Import Path</a></li><li><a href=#iterators-versus-lists>Iterators Versus Lists</a></li><li><a href=#type-hints-and-checks>Type Hints and Checks</a></li><li><a href=#set-custom-connection-timeouts>Set Custom Connection Timeouts</a></li><li><a href=#additional-authentication-support>Additional Authentication Support</a></li></ul></li><li><a href=#interact-with-dataclass-objects>Interact with Dataclass Objects</a><ul><li><a href=#directly-access-related-objects>Directly Access Related Objects</a></li></ul></li><li><a href=#query-for-related-objects>Query for Related Objects</a></li><li><a href=#create-a-simulation>Create a Simulation</a><ul><li><a href=#file-import>File Import</a></li><li><a href=#create-a-blank-simulation>Create a Blank Simulation</a></li></ul></li><li><a href=#modify-a-simulation>Modify a Simulation</a><ul><li><a href=#adjust-the-fields-on-a-simulation-object>Adjust the Fields on a Simulation Object</a><ul><li><a href=#select-an-existing-simulation>Select an Existing Simulation</a></li><li><a href=#update-an-existing-simulation>Update an Existing Simulation</a></li><li><a href=#add-new-nodes-to-a-simulation>Add New Nodes to a Simulation</a></li></ul></li></ul></li><li><a href=#export-a-simulation>Export a Simulation</a></li></ul></li></ul></nav></div></aside></main></div><footer class=footer-top style=margin-top:0><div class=container><div class=row><div class=col-12><div class=footer-content><div class=mb-4><img src=/images/nvidia-logo-white.svg><p>© 2025&nbsp;&nbsp;NVIDIA Corporation.</p></div><ul class=mb-4><li><h4 class="text-jade mb-3">Products</h4></li><li><a href=https://docs.nvidia.com/networking-ethernet-software/cumulus-linux/>NVIDIA Cumulus Linux</a></li><li><a href=https://docs.nvidia.com/networking-ethernet-software/cumulus-netq/>NVIDIA NetQ</a></li><li><a href=https://docs.nvidia.com/networking-ethernet-software/nvidia-air/>NVIDIA Air</a></li></ul><ul class=mb-4><li><h4 class="text-jade mb-3">Solutions</h4></li><li><a href=https://www.nvidia.com/en-us/networking/network-automation/>Automation</a></li><li><a href=https://www.nvidia.com/en-us/networking/network-virtualization/>Network Virtualization</a></li><li><a href=https://www.nvidia.com/en-us/networking/hyperconverged-infrastructure/>HCI</a></li></ul><ul class=mb-4><li><h4 class="text-jade mb-3">Learn</h4></li><li><a href=https://www.nvidia.com/en-us/networking/education/web-scale/>Going web-scale</a></li><li><a href=https://www.nvidia.com/en-us/about-nvidia/webinar-portal/>Webinars</a></li><li><a href=https://developer.nvidia.com/blog/>Blog</a></li></ul><ul></ul></div></div></div></div></footer><div class=footer-bottom><div class=container><div class=row><div class=col-14><ul><p>Copyright © 2025&nbsp;&nbsp;NVIDIA Corporation</p></ul><ul><li><a href=//www.nvidia.com/en-us/about-nvidia/privacy-policy/ target=_blank>Privacy Policy |&nbsp;</a></li><li><a href=//www.nvidia.com/en-us/about-nvidia/privacy-center/ target=_blank>Manage My Privacy |&nbsp;</a></li><li><a href=//www.nvidia.com/en-us/preferences/start/ target=_blank>Do Not Sell or Share My Data |&nbsp;</a></li><li><a href=//www.nvidia.com/en-us/about-nvidia/terms-of-service/ target=_blank>Terms of Service |&nbsp;</a></li><li><a href=//www.nvidia.com/en-us/about-nvidia/accessibility/ target=_blank>Accessibility |&nbsp;</a></li><li><a href=//www.nvidia.com/en-us/about-nvidia/company-policies/ target=_blank>Corporate Policies |&nbsp;</a></li><li><a href=//www.nvidia.com/en-us/security/ target=_blank>Product Security |&nbsp;</a></li><li><a href=//www.nvidia.com/en-us/contact/ target=_blank>Contact</a></li></ul></div></div></div></div></body></html>